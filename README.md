# StorageAssignment

This application is designed to manage file uploads and metadata, providing users with a RESTful API for interacting with files stored in a MongoDB database using GridFS.

## Key Features

### 1. File Upload
- Users can upload files with associated metadata, including:
    - Filename
    - Visibility setting (PUBLIC/PRIVATE)
    - Tags (up to 5 tags per file)
- Supports uploading files of any size with a unique filename check to avoid duplicates.

### 2. File Metadata Management
- The application stores and manages metadata such as:
    - Visibility
    - Tags
    - User information
- Users can easily retrieve and update file details.

### 3. Pagination and Sorting
- Fetch lists of files with pagination and sorting options based on various attributes such as:
    - Filename
    - Tags
    - File Size
    - Upload Date

### 4. File Download
- Secure, non-guessable download links are generated for both **public** and **private** files.
- Users can download files directly from the API.

### 5. File Renaming and Metadata Update
- While file content cannot be updated directly, the file metadata (like filename) can be renamed:
    - The process involves retrieving, deleting, and re-uploading the file with updated metadata.

### 6. MongoDB and GridFS
- MongoDB is used to store the metadata.
- GridFS is utilized for efficiently storing large file contents.
- Files are stored and retrieved alongside their associated metadata, enabling users to manage files based on criteria like visibility and more.

## Technologies Used
- **Spring Boot**: Framework for building the RESTful API.
- **Spring Data MongoDB**: For interacting with MongoDB and handling data.
- **MongoDB GridFS**: To handle the storage of large files.

## How it Works
- Files are uploaded via a POST endpoint, where metadata such as visibility and tags are passed along.
- Files can be downloaded using a unique, non-guessable URL generated by the system.
- The system supports pagination and sorting when querying for files, making it easier to retrieve large datasets.
- The metadata of files, including their visibility settings and associated tags, can be modified, with the filename being the most commonly updated attribute.

## Project Setup

1. **Clone the repository:**

   ```bash
   git clone https://github.com/dewicz/storageassignment.git
   cd storageassignment


## Future improvements
While the application meets most of the functional and non-functional requirements, some details were simplified in order to adhere to the time frame suggested for the exercise. Here are some areas for improvement and how I would address them:
- **Same file upload validation** - current implementation does not allow to upload a file with the same name, but it does not perform file content checks. To address this, I would compute a hash digest of the file content when it is first stored and store it in the file metadata. When a new file is saved, the digest generated based on its content is compared against the digest values stored in metadata. New file will not be stored in case of a match.
- **Filtering and sorting** - current implementation allows sorting by filename, user, size, tags, visibility. Ideally more fields such as content type could be included to allow more granular retrieval.
- **Pagination** - page size value is currently set in properties file and user can specify which page to access via request parameter. Depending on requirements, both page size could also be configurable via request parameter

